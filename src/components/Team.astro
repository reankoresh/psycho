---
import Title from "./Title.astro";
import { Image } from "astro:assets";
import type { ImageMetadata } from "astro";

export interface Props {
  reverse?: boolean;
  job?: string;
  person?: string;
  description?: string;
  image?: string | ImageMetadata;
  imageAlt?: string;
  class?: string;
}

const {
  reverse = false,
  job = "Psic√≥logo",
  person = "Especialista",
  description = "Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat",
  image,
  imageAlt = job,
  class: className = "",
} = Astro.props;
---

<section
  class={`container mx-auto bg-white flex justify-center w-11/12 rounded-3xl my-6 shadow-lg md:shadow-none lg:hidden ${className}`}
>
  <div
    class={`grid grid-cols-2 w-full ${reverse ? "grid-flow-col-dense" : ""}`}
  >
    <div
      class={`bg-cyan-200 p-2 ${reverse ? "rounded-r-3xl order-2" : "rounded-l-3xl order-1"}`}
    >
      {
        image ? (
          <Image
            src={image}
            alt={imageAlt}
            width={300}
            height={200}
            class={`w-full h-40 object-contain rounded-lg transition-transform duration-300 ${reverse ? "scale-x-[-1]" : ""}`}
          />
        ) : (
          <div class="h-32 bg-cyan-300/50 rounded-lg flex items-center justify-center">
            <span class="text-gray-600 text-sm">Foto</span>
          </div>
        )
      }
    </div>

    <div
      class={`bg-white p-4 ${reverse ? "rounded-l-3xl order-1" : "rounded-r-3xl order-2"}`}
    >
      <Title tag="h6" title={job} class="text-center font-bold" />
      <Title tag="h6" title={person} class="text-center mb-4" />
      <p class="text-sm text-gray-700">
        {description}
      </p>
    </div>
  </div>
</section>
